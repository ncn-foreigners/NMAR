<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Post-solution: denominators, masses, and mean (EL) — el_post_solution • NMAR</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Post-solution: denominators, masses, and mean (EL) — el_post_solution"><meta name="description" content="Computes EL denominators and masses and the mean estimate after the solver
converges. The mean is calculated from normalized probability masses per
Qin, Leung, and Shao (2002, Eq. 11). When trimming is active, the masses are
capped and renormalized before computing the mean; diagnostics still report
constraint sums based on untrimmed masses. Denominator floors and the
guarding policy used in equations/Jacobian are applied consistently here for
diagnostic coherence."><meta property="og:description" content="Computes EL denominators and masses and the mean estimate after the solver
converges. The mean is calculated from normalized probability masses per
Qin, Leung, and Shao (2002, Eq. 11). When trimming is active, the masses are
capped and renormalized before computing the mean; diagnostics still report
constraint sums based on untrimmed masses. Denominator floors and the
guarding policy used in equations/Jacobian are applied consistently here for
diagnostic coherence."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">NMAR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/tutorial_empirical_likelihood.html">Empirical Likelihood</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial_exptilt.html">Exponential Tilting</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial_exptilt_nonparam.html">Exponential Tilting (Nonparametric)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Theory</h6></li>
    <li><a class="dropdown-item" href="../articles/el_empirical_likelihood_theory.html">Empirical Likelihood Theory</a></li>
    <li><a class="dropdown-item" href="../articles/exptilt_theory.html">Exponential Tilting Theory</a></li>
    <li><a class="dropdown-item" href="../articles/exptilt_nonparam_theory.html">Nonparametric Exponential Tilting Theory</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ncn-foreigners/NMAR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Post-solution: denominators, masses, and mean (EL)</h1>
      <small class="dont-index">Source: <a href="https://github.com/ncn-foreigners/NMAR/blob/package-dev/R/engines_el_impl_core_helpers.R" class="external-link"><code>R/engines_el_impl_core_helpers.R</code></a></small>
      <div class="d-none name"><code>el_post_solution.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes EL denominators and masses and the mean estimate after the solver
converges. The mean is calculated from normalized probability masses per
Qin, Leung, and Shao (2002, Eq. 11). When trimming is active, the masses are
capped and renormalized before computing the mean; diagnostics still report
constraint sums based on untrimmed masses. Denominator floors and the
guarding policy used in equations/Jacobian are applied consistently here for
diagnostic coherence.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">el_post_solution</span><span class="op">(</span></span>
<span>  <span class="va">estimates</span>,</span>
<span>  <span class="va">missingness_model_matrix_scaled</span>,</span>
<span>  <span class="va">missingness_model_matrix_unscaled</span>,</span>
<span>  <span class="va">auxiliary_matrix_scaled</span>,</span>
<span>  <span class="va">mu_x_scaled</span>,</span>
<span>  <span class="va">response_outcome</span>,</span>
<span>  <span class="va">family</span>,</span>
<span>  <span class="va">N_pop</span>,</span>
<span>  <span class="va">respondent_weights</span>,</span>
<span>  <span class="va">K_beta</span>,</span>
<span>  <span class="va">K_aux</span>,</span>
<span>  <span class="va">nmar_scaling_recipe</span>,</span>
<span>  <span class="va">standardize</span>,</span>
<span>  <span class="va">trim_cap</span>,</span>
<span>  X_centered <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-estimates">estimates<a class="anchor" aria-label="anchor" href="#arg-estimates"></a></dt>
<dd><p>Numeric vector (beta, z, lambda) at the solution.</p></dd>


<dt id="arg-missingness-model-matrix-scaled">missingness_model_matrix_scaled<a class="anchor" aria-label="anchor" href="#arg-missingness-model-matrix-scaled"></a></dt>
<dd><p>Scaled design matrix for the missingness (response) model.</p></dd>


<dt id="arg-missingness-model-matrix-unscaled">missingness_model_matrix_unscaled<a class="anchor" aria-label="anchor" href="#arg-missingness-model-matrix-unscaled"></a></dt>
<dd><p>Unscaled design matrix for the missingness (response) model.</p></dd>


<dt id="arg-auxiliary-matrix-scaled">auxiliary_matrix_scaled<a class="anchor" aria-label="anchor" href="#arg-auxiliary-matrix-scaled"></a></dt>
<dd><p>Scaled auxiliary matrix (or empty matrix).</p></dd>


<dt id="arg-mu-x-scaled">mu_x_scaled<a class="anchor" aria-label="anchor" href="#arg-mu-x-scaled"></a></dt>
<dd><p>Vector of population means for scaled auxiliaries (or NULL).</p></dd>


<dt id="arg-response-outcome">response_outcome<a class="anchor" aria-label="anchor" href="#arg-response-outcome"></a></dt>
<dd><p>Numeric vector of respondent outcomes.</p></dd>


<dt id="arg-family">family<a class="anchor" aria-label="anchor" href="#arg-family"></a></dt>
<dd><p>Family object with linkinv and mu.eta.</p></dd>


<dt id="arg-n-pop">N_pop<a class="anchor" aria-label="anchor" href="#arg-n-pop"></a></dt>
<dd><p>Numeric; population total on the analysis scale.</p></dd>


<dt id="arg-respondent-weights">respondent_weights<a class="anchor" aria-label="anchor" href="#arg-respondent-weights"></a></dt>
<dd><p>Base weights for respondents.</p></dd>


<dt id="arg-k-beta-k-aux">K_beta, K_aux<a class="anchor" aria-label="anchor" href="#arg-k-beta-k-aux"></a></dt>
<dd><p>Integers; sizes of beta and lambda.</p></dd>


<dt id="arg-nmar-scaling-recipe">nmar_scaling_recipe<a class="anchor" aria-label="anchor" href="#arg-nmar-scaling-recipe"></a></dt>
<dd><p>Scaling recipe object for unscaling.</p></dd>


<dt id="arg-standardize">standardize<a class="anchor" aria-label="anchor" href="#arg-standardize"></a></dt>
<dd><p>Logical; whether coefficients need unscaling.</p></dd>


<dt id="arg-trim-cap">trim_cap<a class="anchor" aria-label="anchor" href="#arg-trim-cap"></a></dt>
<dd><p>Numeric; weight trimming cap (Inf = no trimming).</p></dd>

</dl></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Maciej Beręsewicz, Igor Kołodziej, Mateusz Iwaniuk.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

