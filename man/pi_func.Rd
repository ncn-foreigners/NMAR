% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils_pi_func.R
\name{pi_func}
\alias{pi_func}
\title{Calculate probability or its derivative for logistic/probit models}
\usage{
pi_func(model, x, func = "reg", theta = model$theta)
}
\arguments{
\item{model}{A model object containing:
- `theta` (numeric vector): Model coefficients.
- `y_1` (numeric): Response variable value.
- `prob_model_type` (character): Either `"logit"` or `"probit"`.}

\item{x}{Numeric matrix/vector of predictor variables.}

\item{func}{Character specifying computation type:
- `"reg"`: Returns probabilities (default).
- `"deriv"`: Returns derivatives of the link function.}

\item{theta}{Optional override of model coefficients (default: `model$theta`).}
}
\value{
- If `func = "reg"`: Numeric vector of probabilities.
- If `func = "deriv"`: Matrix of derivatives (same nrow as `x`).
}
\description{
Internal function used to compute either:
- predicted probabilities (for `func = "reg"`), or
- derivatives of the link function (for `func = "deriv"`).
}
\details{
For internal use only. The function augments `x` with an intercept and `y_1` before computation.
}
\examples{
\dontrun{
# Example for a logistic model
model <- list(
  theta = c(0.5, -1.2, 0.3),
  y_1 = c(0,1,1),
  prob_model_type = "logit"
)
x <- matrix(c(0.1, 0.5, 0.8), ncol = 1)
pi_func(model, x, func = "reg")  # probabilities
pi_func(model, x, func = "deriv")  # derivatives
}
}
\keyword{internal}
